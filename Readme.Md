# Проект: Hotel Booking

## Описание проекта:

**Данное приложение нацеленно помочь в управлении отелями.
Содержит backend составляющую системы бронирования
с возможностью управления контентом через административную панель** CMS.

### Возможности:
1. Обеспечить пользователям возможность забронировать понравившийся
   отель на определённый период
2. Поиск отелей по критериям и рейтингам и систему
   выставления оценок в приложении (от 1 до 5).
3. Администратор может выгружать статистику по работе в формате
   CSV-файла.

## Стек
1. Spring Boot
2. Gradle Kotlin
3. Lombok
4. Docker
5. Docker compose
6. Redis
7. Spring JWT Security
8. PostgreSQL
9. MongoDb
10. Apache Kafka
11. Java 20 (Core, Collections, Optional, Stream, Category API)
12. Hibernate

### Цели проекта
#### В этом проекте отрабатывалось практическое применение:
* фреймворка Spring Boot
* системы сборки Gradle с языком Kotlin
* библиотеки Lombok для уменьшения количества boilerplate кода
* Docker'изация приложения
* использование Docker-compose для упаковки в Docker образ компонентов PostgreSQL, Redis, Apache Kafka и MongoDb
* защита с помощью Spring JWT Security
* создание и выгрузка статистика с помощью Apache Kafka и MongoDb
* разработка метода, отдающего постраничную информацию о комнатах с учётом фильтрации от пользователя

## Endpoints
### Авторизация и управление сессией:
- `[POST] /auth/signing` - Войти в систему под своей учётной записью используя созданный ранее login и password.
- `[POST] /auth/register` - Создать учётную запись пользователя.
- `[POST] /auth/refresh-token` - Продлить действия выданного ранее токена.
- `[POST] /auth/logout` - Завершение сеанса пользователя.

### Управление пользователями:
- `[GET] /hotel-booking/users` – Получить список всех пользователей с пагинацией. Только для **Администратора**.
- `[GET] /hotel-booking/users/{userId}` – Получить данные пользователя согласно его **_Id_**, для всех категорий пользователей.
- `[PUT] /hotel-booking/users/{userId}` - Обновление данных о пользователе по его **_Id_**. Только для **Администратора**.
- `[DELETE] /hotel-booking/users/{userId}` - Удаление учётной записи по  **_Id_**. Только для **Администратора**.
- `[GET] /hotel-booking/users/searchUserByUserName` – Поиск учётной записи по **_Имени_** пользователя. Только для **Администратора**.
- `[GET] /hotel-booking/users/userCheck` – Проверка пользователя по **_Учётным Данным_**. Только для **Администратора**.

### Управление отелями:
- `[GET] /hotel-booking/hotels/find-by-criteria` – отдача постраничной информации о комнатах с учётом фильтрации от пользователя. Только для **Администратора**.
- `[GET] /hotel-booking/hotels` – получить список всех отелей с пагинацией, для всех категорий пользователей.
- `[GET] /hotel-booking/hotels/{hotelId}` – получить отель по его **_Id_**, для всех категорий пользователей.
- `[POST] /hotel-booking/hotels"/{hotelId}` – Создать учётную запись отеля. Только для **Администратора**.
- `[PUT] /hotel-booking/hotels"/{hotelId}` – Обновление учётной записи отеля по **_Id_**. Только для **Администратора**.
- `[DELETE] /hotel-booking/hotels"/{hotelId}` – Удаление учётной записи отеля по **_Id_**. Только для **Администратора**.
- `[PUT] /hotel-booking/hotels"/{hotelId}/ratings` – Обновление рейтинга учётной записи отеля по **_Id_**, для всех категорий пользователей.

### Управление номерами в отеле:
- `[GET] /hotel-booking/hotel/{hotelId}/rooms/find-by-criteria/` – Отдача постраничной информации о номерах в отеле (по **_Id_** отеля) с учётом фильтрации от пользователя. Только для **Администратора**
- `[GET] /hotel-booking/hotel/{hotelId}/rooms/{roomId}` – получить номер в отеле (по **_Id_** отеля) по **_Id_** номера, для всех категорий пользователей.
- `[GET] /hotel-booking/hotel/{hotelId}/rooms/{roomId}` – Получить список всех номеров в отеле (по **_Id_** отеля) с пагинацией, для всех категорий пользователей.
- `[POST] /hotel-booking/hotels"/{hotelId}/{roomId}` - Создать учётную запись номера в отеле (по **_Id_** отеля) Только для **Администратора**.
- `[PUT] /hotel-booking/hotels"/{hotelId}/{roomId}` – Обновление учётной записи номера в отеле (по **_Id_** отеля) по **_Id_** номера. Только для **Администратора**.
- `[DELETE] /hotel-booking/hotels"/{hotelId}/{roomId}` - Удаление учётной записи номера по **_Id_** в отеле (по **_Id_** отеля). Только для **Администратора**.

### Управление резервированиями номеров в отеле:
- `[GET] /hotel-booking/{hotelId}/{roomId}/bookings` – Отдача постраничной информации о резервациях в отеле (по **_Id_** отеля) для номера по (по **_Id_** номера) на указанный временной период. Только для **Администратора**.
- `[POST] /hotel-booking/{hotelId}/{roomId}/check-in"` – Создание брони для номера (по **_Id_** номера) в отеле (по **_Id_** отеля) на указанный временной промежуток. Только для **Администратора**.
- `[GET] /hotel-booking/{hotelId}/{roomId}/check-free-rooms` – Получения списка доступных номеров для бронирования номеров в отеле (по **_Id_** отеля), для всех категорий пользователей.
- `[GET] /hotel-booking/{hotelId}/{roomId}/check-occupied-rooms` – Получения списка занятых номеров для бронирования номеров в отеле (по **_Id_** отеля). Только для **Администратора**.


### Статистика:
- `[GET] /hotel-booking/statistics/sendUser` – Отправка статистики по количеству пользователей за всё время. Только для **Администратора**.
- `[GET] /hotel-booking/statistics/sendBooking` – Отправка статистики по резервированиям номеров за всё время. Только для **Администратора**.
- `[GET] /hotel-booking/statistics/sendBookingForPeriod` – Отправка статистики за указанный период времени. Только для **Администратора**.
- `[GET] /hotel-booking/statistics/print` – Выгрузка статистики в CSV файл и отправка в контроллер. Только для **Администратора**.

## Схема базы данных:
![](https://github.com/Abrielz1/hotel-booking/blob/master/db_scema.jpg)
